'use strict';

var _colonyJsUtils = require('@colony/colony-js-utils');

var _web3Utils = require('web3-utils');

var _colonyJsContractClient = require('@colony/colony-js-contract-client');

var _constants = require('./constants');

var roleType = function roleType(roles) {
  return {
    validate: function validate(value) {
      return Object.hasOwnProperty.call(roles, value);
    },
    convertInput: function convertInput(value) {
      return roles[value];
    },
    convertOutput: function convertOutput(value) {
      var converted = void 0;
      if ((0, _web3Utils.isHexStrict)(value)) {
        converted = (0, _web3Utils.hexToNumber)(value);
      } else if ((0, _colonyJsUtils.isBigNumber)(value)) {
        converted = value.toNumber();
      } else {
        converted = value;
      }
      return Object.keys(roles).find(function (name) {
        return roles[name] === converted;
      }) || null;
    }
  };
};

(0, _colonyJsContractClient.addParamType)('role', roleType(_constants.ROLES));

(0, _colonyJsContractClient.addParamType)('authorityRole', roleType(_constants.AUTHORITY_ROLES));
//# sourceMappingURL=paramTypes.js.map